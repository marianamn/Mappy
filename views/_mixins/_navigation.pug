mixin site-navigation
    nav.navbar.navbar-default
        .container-fluid.text-center
            .navbar-header
                button.navbar-toggle.collapsed(type="button" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false")
                    span.sr-only Toggle navigation
                    span.icon-bar
                    span.icon-bar
                    span.icon-bar
                a.navbar-brand(href="/") Mappy
            #navbar-collapse.collapse.navbar-collapse
                ul.nav.navbar-nav
                    li
                        a(href="/rankings") Rankings
                    li
                        a(href="/terms") Terms of use
                    li
                        a(href="/countries") Countries

                    if user
                        li.dropdown
                            a.dropdown-toggle(href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false")
                                = user.username
                                span.caret
                            ul.dropdown-menu
                                li
                                    a(href="/auth/profile") 
                                        | View profile
                                li
                                    form(action="/auth/logout" method="post")
                                        button
                                            | Sign out
                            if user.isAdmin
                                li.admin
                                    a(href="/admin/panel")
                                        | Admin panel
                    else
                        li.dropdown
                            a.dropdown-toggle(href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false")
                                | User
                                span.caret
                            ul.dropdown-menu
                                li
                                    a(href="/auth/register") 
                                        | Sign up
                                li
                                    a(href="/auth/login")
                                        | Sign in